(function(){'use strict';(function(a,b,c){function d(f){this.$node=a(f),this.$node.data('details',this);var g=location.hash&&'#'!==location.hash?', '+location.hash:'';this.$node.find('.error'+g).length&&this.$node.attr('open',!0),this.setupSummary(),this.setupLegend()}a.extend(d,{instances:[]}),a.extend(d.prototype,{setupSummary:function(){this.$summary=a('<span class="summary"></span>'),this.$node.on('summaryUpdated',a.proxy(this.onSummaryUpdated,this)).trigger('summaryUpdated')},setupLegend:function(){var g=this.$node.find('> summary');a('<span class="details-summary-prefix visually-hidden"></span>').append(this.$node.attr('open')?c.t('Hide'):c.t('Show')).prependTo(g).after(document.createTextNode(' ')),a('<a class="details-title"></a>').attr('href','#'+this.$node.attr('id')).prepend(g.contents()).appendTo(g),g.append(this.$summary).on('click',a.proxy(this.onLegendClick,this))},onLegendClick:function(g){this.toggle(),g.preventDefault()},onSummaryUpdated:function(){var g=a.trim(this.$node.drupalGetSummary());this.$summary.html(g?' ('+g+')':'')},toggle:function(){var g=this,h=!!this.$node.attr('open'),j=this.$node.find('> summary span.details-summary-prefix');h?j.html(c.t('Show')):j.html(c.t('Hide')),setTimeout(function(){g.$node.attr('open',!h)},0)}}),c.behaviors.collapse={attach:function(g){if(!b.details){var h=a(g).find('details').once('collapse').addClass('collapse-processed');if(h.length)for(var j=0;j<h.length;j++)d.instances.push(new d(h[j]))}}},c.CollapsibleDetails=d})(jQuery,Modernizr,Drupal)})();
//# sourceMappingURL=collapse.js.map
