{"version":3,"file":"date.js","sources":["date.es6.js"],"sourcesContent":["/**\n * @file\n * Polyfill for HTML5 date input.\n */\n\n(($, Modernizr, Drupal) => {\n  /**\n   * Attach datepicker fallback on date elements.\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Attaches the behavior. Accepts in `settings.date` an object listing\n   *   elements to process, keyed by the HTML ID of the form element containing\n   *   the human-readable value. Each element is an datepicker settings object.\n   * @prop {Drupal~behaviorDetach} detach\n   *   Detach the behavior destroying datepickers on effected elements.\n   */\n  Drupal.behaviors.date = {\n    attach(context, settings) {\n      const $context = $(context);\n      // Skip if date are supported by the browser.\n      if (Modernizr.inputtypes.date === true) {\n        return;\n      }\n      $context.find('input[data-drupal-date-format]')\n        .once('datePicker')\n        .each((index, item) => {\n          const $input = $(item);\n          const datepickerSettings = {};\n          const dateFormat = $input.data('drupalDateFormat');\n          // The date format is saved in PHP style, we need to convert to jQuery\n          // datepicker.\n          datepickerSettings.dateFormat = dateFormat\n            .replace('Y', 'yy')\n            .replace('m', 'mm')\n            .replace('d', 'dd');\n          // Add min and max date if set on the input.\n          if ($input.attr('min')) {\n            datepickerSettings.minDate = $input.attr('min');\n          }\n          if ($input.attr('max')) {\n            datepickerSettings.maxDate = $input.attr('max');\n          }\n          $input.datepicker(datepickerSettings);\n        });\n    },\n    detach(context, settings, trigger) {\n      if (trigger === 'unload') {\n        $(context).find('input[data-drupal-date-format]').findOnce('datePicker').datepicker('destroy');\n      }\n    },\n  };\n})(jQuery, Modernizr, Drupal);\n"],"names":["behaviors","date","$context","$","context","Modernizr","inputtypes","find","once","each","$input","item","datepickerSettings","dateFormat","data","replace","attr","minDate","maxDate","datepicker","trigger","findOnce","jQuery","Drupal"],"mappings":"yBAKA,CAAC,eAA0B,GAalBA,UAAUC,KAAO,mBACI,IAClBC,GAAWC,EAAEC,CAAFD,EAEbE,OAAUC,UAAVD,CAAqBJ,IAHD,IAMfM,KAAK,kCACXC,KAAK,cACLC,KAAK,aAAiB,IACfC,GAASP,EAAEQ,CAAFR,EACTS,KACAC,EAAaH,EAAOI,IAAPJ,CAAY,kBAAZA,IAGAG,WAAaA,EAC7BE,OAD6BF,CACrB,GADqBA,CAChB,IADgBA,EAE7BE,OAF6BF,CAErB,GAFqBA,CAEhB,IAFgBA,EAG7BE,OAH6BF,CAGrB,GAHqBA,CAGhB,IAHgBA,CANX,CAWjBH,EAAOM,IAAPN,CAAY,KAAZA,CAXiB,KAYAO,QAAUP,EAAOM,IAAPN,CAAY,KAAZA,CAZV,EAcjBA,EAAOM,IAAPN,CAAY,KAAZA,CAdiB,KAeAQ,QAAUR,EAAOM,IAAPN,CAAY,KAAZA,CAfV,IAiBdS,WAAWP,EAnBtB,EAPoB,CAAA,uBA6Ba,CACjB,QAAZQ,IAD6B,IAE7BhB,GAASG,KAAK,kCAAkCc,SAAS,cAAcF,WAAW,WA/BlE,CAb1B,CAAA,EAgDGG,MAhDH,CAgDWjB,SAhDX,CAgDsBkB,MAhDtB"}